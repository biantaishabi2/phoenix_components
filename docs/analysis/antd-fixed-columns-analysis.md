# Ant Design å›ºå®šåˆ—å®ç°åŸç†åˆ†æ

## ğŸ“‹ ç ”ç©¶æ¦‚è¿°

é€šè¿‡æ·±å…¥åˆ†æ Ant Design çš„æºç ï¼Œæˆ‘æ€»ç»“äº†å›ºå®šåˆ—åŠŸèƒ½çš„æ ¸å¿ƒå®ç°åŸç†å’ŒæŠ€æœ¯è¦ç‚¹ã€‚

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆ

### 1. åŸºç¡€å®ç°ç­–ç•¥

**ä¸»è¦æŠ€æœ¯æ ˆ**ï¼š
- **CSS `position: sticky`**: æ ¸å¿ƒå®šä½æŠ€æœ¯
- **åŠ¨æ€ z-index ç®¡ç†**: å±‚çº§æ§åˆ¶
- **CSS ä¼ªå…ƒç´ **: é˜´å½±è¾¹ç•Œæ•ˆæœ
- **ç±»åçŠ¶æ€ç®¡ç†**: æ»šåŠ¨çŠ¶æ€æ£€æµ‹

### 2. API è®¾è®¡æ¨¡å¼

```typescript
// Ant Design çš„ API è®¾è®¡
interface ColumnType {
  fixed?: FixedType;  // 'left' | 'right' | boolean
  width?: number | string;
  // ... å…¶ä»–å±æ€§
}

// ä½¿ç”¨ç¤ºä¾‹
const columns = [
  {
    title: 'Name',
    dataIndex: 'name',
    fixed: 'left',     // å·¦å›ºå®š
    width: 100,
  },
  {
    title: 'Action',
    fixed: 'right',    // å³å›ºå®š
    width: 120,
    render: () => <a>action</a>
  }
];
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. CSS æ ·å¼æ¶æ„

#### åŸºç¡€å›ºå®šåˆ—æ ·å¼
```css
/* å›ºå®šåˆ—çš„æ ¸å¿ƒæ ·å¼ */
.ant-table-cell-fix-left,
.ant-table-cell-fix-right {
  position: sticky !important;
  z-index: 2;                    /* å›ºå®šåˆ—å±‚çº§ */
  background: inherit;           /* ç»§æ‰¿èƒŒæ™¯è‰² */
}
```

#### é˜´å½±è¾¹ç•Œæ•ˆæœ
```css
/* å·¦å›ºå®šåˆ—å³è¾¹ç•Œé˜´å½± */
.ant-table-cell-fix-left-last::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: -1px;
  width: 30px;                   /* é˜´å½±å®½åº¦ */
  transform: translateX(100%);   /* ç§»å‡ºå•å…ƒæ ¼ */
  transition: box-shadow 0.3s;  /* åŠ¨ç”»è¿‡æ¸¡ */
  content: "";
  pointer-events: none;          /* ä¸å½±å“äº¤äº’ */
}

/* æ»šåŠ¨æ—¶æ˜¾ç¤ºé˜´å½± */
.ant-table-ping-left .ant-table-cell-fix-left-last::after {
  box-shadow: inset 10px 0 8px -8px rgba(0,0,0,0.15);
}
```

#### å³å›ºå®šåˆ—æ ·å¼
```css
/* å³å›ºå®šåˆ—å·¦è¾¹ç•Œé˜´å½± */
.ant-table-cell-fix-right-first::after {
  position: absolute;
  top: 0;
  left: 0;
  bottom: -1px;
  width: 30px;
  transform: translateX(-100%);
  transition: box-shadow 0.3s;
  content: "";
  pointer-events: none;
}

.ant-table-ping-right .ant-table-cell-fix-right-first::after {
  box-shadow: inset -10px 0 8px -8px rgba(0,0,0,0.15);
}
```

### 2. å±‚çº§ç®¡ç†ç­–ç•¥

```css
/* å±‚çº§ä¼˜å…ˆçº§è®¾è®¡ */
.ant-table-cell-fix-left,
.ant-table-cell-fix-right {
  z-index: 2;                    /* å›ºå®šåˆ—åŸºç¡€å±‚çº§ */
}

.ant-table-thead .ant-table-cell-fix-left,
.ant-table-thead .ant-table-cell-fix-right {
  z-index: 3;                    /* è¡¨å¤´å›ºå®šåˆ—æ›´é«˜å±‚çº§ */
}

.ant-table-container::before,
.ant-table-container::after {
  z-index: 3;                    /* å®¹å™¨é˜´å½±å±‚çº§ */
}
```

### 3. æ»šåŠ¨çŠ¶æ€æ£€æµ‹

Ant Design é€šè¿‡ JavaScript æ£€æµ‹æ»šåŠ¨çŠ¶æ€ï¼ŒåŠ¨æ€æ·»åŠ CSSç±»ï¼š

```css
/* æ»šåŠ¨çŠ¶æ€ç±» */
.ant-table-ping-left    /* å‘å·¦æ»šåŠ¨æ—¶ï¼Œæ˜¾ç¤ºå·¦ä¾§é˜´å½± */
.ant-table-ping-right   /* å‘å³æ»šåŠ¨æ—¶ï¼Œæ˜¾ç¤ºå³ä¾§é˜´å½± */
.ant-table-has-fix-left /* æœ‰å·¦å›ºå®šåˆ— */
.ant-table-has-fix-right /* æœ‰å³å›ºå®šåˆ— */
```

## ğŸ’¡ å…³é”®è®¾è®¡å†³ç­–

### 1. position: sticky vs position: fixed

**é€‰æ‹© `position: sticky` çš„åŸå› **ï¼š
- âœ… è‡ªåŠ¨å¤„ç†æ»šåŠ¨è¾¹ç•Œ
- âœ… ä¸éœ€è¦å¤æ‚çš„ JavaScript è®¡ç®—
- âœ… æ€§èƒ½æ›´å¥½ï¼Œæµè§ˆå™¨åŸç”Ÿä¼˜åŒ–
- âœ… æ”¯æŒè¡¨æ ¼å†…éƒ¨æ»šåŠ¨

### 2. ä¼ªå…ƒç´ é˜´å½±æ–¹æ¡ˆ

**ä½¿ç”¨ `::after` ä¼ªå…ƒç´ çš„ä¼˜åŠ¿**ï¼š
- âœ… ä¸å½±å“è¡¨æ ¼å¸ƒå±€
- âœ… æ”¯æŒ CSS åŠ¨ç”»
- âœ… å¯ä»¥ç²¾ç¡®æ§åˆ¶é˜´å½±ä½ç½®
- âœ… ä¸éœ€è¦é¢å¤–çš„ DOM å…ƒç´ 

### 3. ç±»åçŠ¶æ€ç®¡ç†

**åŠ¨æ€ç±»åçš„ä½œç”¨**ï¼š
- âœ… å“åº”æ»šåŠ¨çŠ¶æ€å˜åŒ–
- âœ… æ§åˆ¶é˜´å½±æ˜¾ç¤º/éšè—
- âœ… æ”¯æŒå¤æ‚çš„äº¤äº’çŠ¶æ€
- âœ… ä¾¿äºä¸»é¢˜å®šåˆ¶

## ğŸ¨ è§†è§‰æ•ˆæœç‰¹ç‚¹

### 1. é˜´å½±æ•ˆæœç»†èŠ‚

```css
/* é˜´å½±å‚æ•°åˆ†æ */
box-shadow: inset 10px 0 8px -8px rgba(0,0,0,0.15);
/*
  inset:    å†…é˜´å½±ï¼Œåœ¨å…ƒç´ å†…éƒ¨
  10px:     æ°´å¹³åç§»ï¼Œå‘å†…10px
  0:        å‚ç›´åç§»ï¼Œæ— åç§»
  8px:      æ¨¡ç³ŠåŠå¾„ï¼ŒæŸ”åŒ–è¾¹ç•Œ
  -8px:     é˜´å½±æ”¶ç¼©ï¼Œä½¿é˜´å½±æ›´ç»†
  rgba():   åŠé€æ˜é»‘è‰²ï¼Œå¯é€‚é…ä¸»é¢˜
*/
```

### 2. è¿‡æ¸¡åŠ¨ç”»

```css
/* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
transition: box-shadow 0.3s;  /* 300ms é˜´å½±å˜åŒ–åŠ¨ç”» */
```

## ğŸ” è¾¹ç•Œæƒ…å†µå¤„ç†

### 1. é—´éš”å›ºå®šåˆ—ï¼ˆGapped Columnsï¼‰

```css
/* éè¿ç»­å›ºå®šåˆ—ä¸æ˜¾ç¤ºé˜´å½± */
.ant-table-fixed-column-gapped 
.ant-table-cell-fix-left-last::after,
.ant-table-cell-fix-right-first::after {
  box-shadow: none;  /* ç§»é™¤é˜´å½±æ•ˆæœ */
}
```

### 2. è¡¨å¤´å’Œè¡¨ä½“ä¸€è‡´æ€§

- è¡¨å¤´å’Œè¡¨ä½“ä½¿ç”¨ç›¸åŒçš„å›ºå®šé€»è¾‘
- è¡¨å¤´å±‚çº§æ›´é«˜ï¼Œç¡®ä¿å§‹ç»ˆåœ¨æœ€ä¸Šå±‚
- é˜´å½±æ•ˆæœåœ¨è¡¨å¤´å’Œè¡¨ä½“ä¸­ä¿æŒä¸€è‡´

### 3. å“åº”å¼é€‚é…

- å›ºå®šåˆ—åœ¨å°å±å¹•ä¸Šå¯èƒ½éœ€è¦é™çº§å¤„ç†
- å»ºè®®åœ¨ç§»åŠ¨ç«¯ç¦ç”¨å›ºå®šåˆ—æˆ–å‡å°‘å›ºå®šåˆ—æ•°é‡
- ä½¿ç”¨åª’ä½“æŸ¥è¯¢æ§åˆ¶å›ºå®šåˆ—è¡Œä¸º

## ğŸ“Š æ€§èƒ½è€ƒè™‘

### 1. CSS æ€§èƒ½ä¼˜åŒ–

- âœ… ä½¿ç”¨ `position: sticky` é¿å…é‡æ’
- âœ… ä½¿ç”¨ `transform` è€Œé `left/right` æ”¹å˜ä½ç½®
- âœ… åˆç†ä½¿ç”¨ `will-change` å±æ€§ï¼ˆå¦‚éœ€è¦ï¼‰
- âœ… é¿å…å¤æ‚çš„ CSS é€‰æ‹©å™¨

### 2. JavaScript æ€§èƒ½

- âœ… æ»šåŠ¨äº‹ä»¶èŠ‚æµå¤„ç†
- âœ… çŠ¶æ€å˜åŒ–æ—¶æ‰æ›´æ–° DOM
- âœ… ä½¿ç”¨ç±»ååˆ‡æ¢è€Œéå†…è”æ ·å¼

## ğŸ¯ Phoenix å®ç°å»ºè®®

### 1. ç®€åŒ–çš„ API è®¾è®¡

```elixir
# Phoenix LiveView ç‰ˆæœ¬çš„ API è®¾è®¡
slot :col do
  attr :fixed, :string, values: ["left", "right"]
  # ... å…¶ä»–å±æ€§
end
```

### 2. CSS ç±»å‘½å

```css
/* éµå¾ªé¡¹ç›®å‘½åè§„èŒƒ */
.pc-table__cell--fixed-left
.pc-table__cell--fixed-right
.pc-table__cell--fixed-left-last
.pc-table__cell--fixed-right-first
.pc-table--ping-left
.pc-table--ping-right
```

### 3. æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŠ¿

- âœ… å›ºå®šåˆ—ä½ç½®å¯ä»¥åœ¨æœåŠ¡ç«¯è®¡ç®—
- âœ… å‡å°‘å®¢æˆ·ç«¯ JavaScript ä¾èµ–
- âœ… é¦–å±æ¸²æŸ“æ›´å¿«
- âœ… SEO å‹å¥½

## ğŸš€ å®ç°è·¯çº¿å›¾

1. **ç¬¬ä¸€æ­¥**: å®ç°åŸºç¡€çš„å·¦å³å›ºå®šåˆ— CSS
2. **ç¬¬äºŒæ­¥**: æ·»åŠ é˜´å½±è¾¹ç•Œæ•ˆæœ
3. **ç¬¬ä¸‰æ­¥**: å¤„ç†æ»šåŠ¨çŠ¶æ€æ£€æµ‹
4. **ç¬¬å››æ­¥**: ä¼˜åŒ–æ€§èƒ½å’Œå“åº”å¼é€‚é…
5. **ç¬¬äº”æ­¥**: å®Œå–„æµ‹è¯•å’Œæ–‡æ¡£

## ğŸ“ ç»“è®º

Ant Design çš„å›ºå®šåˆ—å®ç°æ˜¯ä¸€ä¸ª**çº¯ CSS + å°‘é‡ JavaScript** çš„ä¼˜é›…æ–¹æ¡ˆï¼š

- **æ ¸å¿ƒæŠ€æœ¯**: `position: sticky` + åŠ¨æ€ç±»å
- **è§†è§‰æ•ˆæœ**: ä¼ªå…ƒç´ é˜´å½± + CSS åŠ¨ç”»
- **æ€§èƒ½ä¼˜åŒ–**: æµè§ˆå™¨åŸç”Ÿä¼˜åŒ– + äº‹ä»¶èŠ‚æµ
- **æ˜“äºç»´æŠ¤**: æ¸…æ™°çš„æ ·å¼æ¶æ„ + è¯­ä¹‰åŒ–ç±»å

è¿™ä¸ºæˆ‘ä»¬çš„ Phoenix LiveView å®ç°æä¾›äº†è‰¯å¥½çš„æŠ€æœ¯å‚è€ƒå’Œè®¾è®¡æ€è·¯ã€‚